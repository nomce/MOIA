CC=gcc
CFLAGS=-c -Wall
ALLLIBS=common/fonctionsTCP
PROJET=TCP

all: ${PROJET}

${PROJET}: ${ALLLIBS}.a
	${CC} -Wall -o client client/c/clientTCP.c ${ALLLIBS}.a
	#${CC} -Wall -o server server/serverTCP.c ${ALLLIBS}.a

${ALLLIBS}.a: ${ALLLIBS}.o
	ar ruv ${ALLLIBS}.a ${ALLLIBS}.o
	ranlib ${ALLLIBS}.a
	
${ALLLIBS}.o:
	${CC} ${CFLAGS} ${ALLLIBS}.c -o ${ALLLIBS}.o

clean:
	rm -rf *o
